# LibreTV 常见问题解答 (FAQ)

## 认证与安全

### Q: 我的 oauthClientId 是多少？

**A: LibreTV 不使用 OAuth 认证。**

LibreTV 使用简单的密码保护机制，而不是 OAuth。您只需要设置一个 `PASSWORD` 环境变量即可保护您的实例。

**如何设置密码：**

1. **Vercel/Netlify/Render 部署：**
   - 在平台的环境变量设置中添加 `PASSWORD` 变量
   - 例如：`PASSWORD=your_secure_password`

2. **Docker 部署：**
   ```bash
   docker run -d \
     -e PASSWORD=your_secure_password \
     -p 8899:8080 \
     bestzwei/libretv:latest
   ```

3. **本地开发：**
   - 复制 `.env.example` 到 `.env`
   - 编辑 `.env` 文件，设置 `PASSWORD=your_secure_password`

**重要提示：** 为了安全，所有部署都必须设置 PASSWORD 环境变量。

### Q: 为什么不使用 OAuth？

**A:** LibreTV 是一个轻量级的个人使用工具，设计用于快速部署和简单使用。使用简单的密码保护足以满足大多数个人使用场景，同时避免了 OAuth 的复杂性：

- 无需注册第三方服务
- 无需配置复杂的客户端 ID 和密钥
- 更快的部署和设置过程
- 适合个人和小团队使用

### Q: 密码是如何保护的？

**A:** LibreTV 使用 SHA-256 哈希算法来保护密码：

1. 用户输入的密码在客户端被哈希处理
2. 只有哈希值被存储在本地存储中
3. 密码验证通过比较哈希值完成
4. 代理请求使用基于密码哈希的鉴权机制

查看代码了解详情：
- `js/password.js` - 密码验证逻辑
- `js/proxy-auth.js` - 代理请求鉴权
- `js/sha256.js` - SHA-256 哈希实现

### Q: 如何更改密码？

**A:** 

1. **对于云平台部署（Vercel/Netlify/Render）：**
   - 进入平台的环境变量设置
   - 修改 `PASSWORD` 变量的值
   - 重新部署应用

2. **对于 Docker 部署：**
   - 停止并删除现有容器
   - 使用新密码重新启动容器

3. **对于本地开发：**
   - 编辑 `.env` 文件中的 `PASSWORD` 值
   - 重启开发服务器

**注意：** 更改密码后，所有用户需要重新验证。

### Q: 忘记密码怎么办？

**A:** 

1. 如果您是部署者，可以直接查看您设置的 `PASSWORD` 环境变量
2. 如果您是用户，需要联系部署者获取密码
3. 部署者可以通过环境变量设置重置密码

## 部署相关

### Q: 为什么必须设置 PASSWORD？

**A:** 这是一项安全措施：

1. **防止滥用：** 避免您的实例被公开访问和滥用
2. **版权保护：** 确保只有授权用户访问内容
3. **资源控制：** 防止过度使用导致的额外费用
4. **法律合规：** 本项目仅供学习和个人使用

**重要：** 请勿将您的实例公开分享或用于商业用途。

### Q: 可以禁用密码保护吗？

**A:** 从技术上讲可以，但**强烈不建议**。项目要求所有部署都必须设置密码以确保：

- 不被公开访问
- 避免法律纠纷
- 防止资源滥用

如果不设置密码，用户将看到设置密码的提示。

## API 和数据源

### Q: 如何添加自定义视频源？

**A:** 

1. 打开设置面板（点击右上角齿轮图标）
2. 找到"自定义 API 管理"区域
3. 输入符合苹果 CMS V10 格式的 API 地址
4. 点击"添加"按钮

**API 格式要求：**
- 搜索接口：`https://example.com/api.php/provide/vod/?ac=videolist&wd=关键词`
- 详情接口：`https://example.com/api.php/provide/vod/?ac=detail&ids=视频ID`

### Q: 为什么某些视频源无法播放？

**A:** 可能的原因：

1. **源失效：** 视频源可能已经失效或更换了接口
2. **网络问题：** 您的网络可能无法访问该源
3. **地区限制：** 某些源可能有地区访问限制
4. **格式不兼容：** 视频格式可能不被播放器支持

**解决方法：**
- 尝试其他视频源
- 检查网络连接
- 使用 VPN（如果适用）
- 更新数据源配置

### Q: 豆瓣推荐功能如何工作？

**A:** 豆瓣推荐功能通过以下方式工作：

1. 从豆瓣电影 API 获取热门和分类内容
2. 在首页显示推荐的电影和电视剧
3. 点击内容可自动填充搜索框并搜索

**如何启用：**
1. 打开设置面板
2. 找到"豆瓣推荐"开关
3. 启用后首页将显示推荐内容

**注意：** 豆瓣 API 可能需要特殊网络条件才能访问（如使用 VPN）。

## 使用技巧

### Q: 如何使用键盘快捷键？

**A:** 播放器支持以下快捷键：

- **空格键：** 播放/暂停
- **左/右箭头：** 快退/快进
- **上/下箭头：** 增加/减小音量
- **M 键：** 静音/取消静音
- **F 键：** 全屏/退出全屏
- **Esc 键：** 退出全屏

### Q: 如何清除缓存和历史？

**A:** 

1. **清除观看历史：**
   - 点击左上角历史按钮
   - 点击"清空历史记录"按钮

2. **清除浏览器缓存：**
   - 按 Ctrl+Shift+Delete（Windows/Linux）
   - 或 Cmd+Shift+Delete（Mac）
   - 选择清除缓存和 Cookie

3. **重置所有设置：**
   - 打开浏览器开发者工具（F12）
   - 进入 Application/应用程序标签
   - 清除 Local Storage

### Q: 移动端体验如何？

**A:** LibreTV 完全支持移动设备：

- 响应式设计，自动适配屏幕大小
- 触摸手势支持
- 移动端优化的控制界面
- PWA 支持，可添加到主屏幕

**安装为 PWA：**
1. 在移动浏览器中访问 LibreTV
2. 点击浏览器菜单中的"添加到主屏幕"
3. 即可像原生应用一样使用

## 问题排查

### Q: 视频无法播放怎么办？

**A:** 按以下步骤排查：

1. **检查网络连接：** 确保您的网络稳定
2. **尝试其他集数：** 某些集数的链接可能失效
3. **更换视频源：** 在搜索结果中选择其他源
4. **清除缓存：** 清除浏览器缓存后重试
5. **检查浏览器：** 使用现代浏览器（Chrome、Firefox、Edge）
6. **查看控制台：** 按 F12 查看错误信息

### Q: 搜索没有结果怎么办？

**A:** 

1. **检查数据源：** 确保至少选中了一个数据源
2. **尝试不同关键词：** 使用更通用或更具体的关键词
3. **检查网络：** 数据源可能暂时不可访问
4. **添加更多源：** 在设置中添加更多自定义数据源
5. **使用聚合搜索：** 选择多个数据源进行搜索

### Q: 页面加载缓慢？

**A:** 

1. **检查网络速度：** 使用速度测试工具
2. **减少数据源：** 聚合搜索时数据源过多会变慢
3. **清除缓存：** 过多缓存可能影响性能
4. **使用加速：** 考虑使用 CDN 加速
5. **升级浏览器：** 使用最新版本的浏览器

### Q: 出现"请求超时"错误？

**A:** 

1. **网络问题：** 检查您的网络连接
2. **源服务器问题：** 视频源服务器可能响应慢或不可用
3. **代理问题：** 如果使用代理，检查代理设置
4. **重试：** 稍后重试或选择其他源

## 技术相关

### Q: 支持哪些视频格式？

**A:** LibreTV 主要支持：

- **HLS (m3u8)：** 主要支持的流媒体格式
- **MP4：** 标准视频文件格式
- **其他格式：** 取决于浏览器支持

播放器使用 HLS.js 和 DPlayer，提供广泛的格式兼容性。

### Q: 数据存储在哪里？

**A:** 

LibreTV 使用浏览器本地存储（LocalStorage）保存：

- 密码验证状态
- 用户设置和偏好
- 观看历史记录
- 自定义 API 配置
- 豆瓣标签配置

**注意：** 所有数据都存储在您的浏览器中，不会上传到服务器。

### Q: 如何贡献代码？

**A:** 

1. Fork 项目到您的 GitHub 账户
2. 克隆仓库到本地
3. 创建新分支进行开发
4. 提交 Pull Request

详细信息请参阅 [CONTRIBUTING.md](CONTRIBUTING.md)。

### Q: 项目使用什么技术栈？

**A:** 

- **前端：** HTML5, CSS3, JavaScript (ES6+)
- **样式：** Tailwind CSS
- **播放器：** DPlayer, HLS.js
- **后端：** Node.js（用于代理和部署）
- **部署：** Serverless Functions (Vercel/Netlify/Cloudflare)

## 法律和许可

### Q: 使用 LibreTV 合法吗？

**A:** 

LibreTV 本身是合法的开源软件，但：

1. **仅供学习和个人使用**
2. **必须设置密码保护**
3. **不得公开分享或商业使用**
4. **用户需自行承担使用责任**

LibreTV 不存储、上传或分发视频内容，所有内容来自第三方 API。

### Q: 项目的许可证是什么？

**A:** 

LibreTV 使用 MIT 许可证。您可以自由：

- 使用、修改和分发代码
- 用于个人或商业项目

**但需要：**
- 保留版权声明
- 提供许可证副本

详情请查看 [LICENSE](LICENSE) 文件。

## 获取帮助

### Q: 遇到问题如何寻求帮助？

**A:** 

1. **查看本 FAQ：** 大多数常见问题都有解答
2. **搜索 Issues：** [GitHub Issues](https://github.com/LibreSpark/LibreTV/issues)
3. **提交新 Issue：** 如果问题未被报告，创建新 Issue
4. **查看文档：** README.md 和 CONTRIBUTING.md
5. **社区讨论：** [GitHub Discussions](https://github.com/LibreSpark/LibreTV/discussions)

**提交 Issue 时请包含：**
- 详细的问题描述
- 复现步骤
- 浏览器和操作系统信息
- 控制台错误日志（如果有）
- 截图（如果适用）

### Q: 如何报告安全漏洞？

**A:** 

如果发现安全漏洞，请：

1. **不要公开披露**
2. 通过 GitHub 私密方式联系维护者
3. 提供漏洞详细信息和可能的影响
4. 给维护者合理的时间修复

---

## 更新日志

本 FAQ 会持续更新。如果您有其他问题，欢迎提交 Issue 或 Pull Request。

**最后更新：** 2026-02-07
